"use strict";(self.webpackChunkifs_shanghai_doc=self.webpackChunkifs_shanghai_doc||[]).push([[876],{4442:(e,l,i)=>{i.r(l),i.d(l,{data:()=>t});const t={key:"v-b20e2466",path:"/zh/eb_xelor/user_guide/system_analysis.html",title:"系统分析",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"DLT Viewer",slug:"dlt-viewer",children:[{level:3,title:"Installing DLT Viewer on Linux",slug:"installing-dlt-viewer-on-linux",children:[]},{level:3,title:"Compiling DLT Viewer on Linux",slug:"compiling-dlt-viewer-on-linux",children:[]},{level:3,title:"Installing DLT Viewer on Windows",slug:"installing-dlt-viewer-on-windows",children:[]},{level:3,title:"Compiling DLT Viewer on Windows",slug:"compiling-dlt-viewer-on-windows",children:[]},{level:3,title:"Sample project file",slug:"sample-project-file",children:[]},{level:3,title:"DLT identifiers for EB xelor",slug:"dlt-identifiers-for-eb-xelor",children:[]},{level:3,title:"Licensing",slug:"licensing",children:[]}]}],filePathRelative:"zh/eb_xelor/user_guide/system_analysis.md",git:{updatedTime:1633094711e3,contributors:[{name:"Qian Chen",email:"827391449@qq.com",commits:1}]}}},6178:(e,l,i)=>{i.r(l),i.d(l,{default:()=>W});var t=i(6252);const n=(0,t.uE)('<h1 id="系统分析" tabindex="-1"><a class="header-anchor" href="#系统分析" aria-hidden="true">#</a> 系统分析</h1><p>本章会介绍如何使用一些工具来进行测试，理解EB xelor软件所执行的动作。</p><p>// eap://E6A93D5D-3300-4900-B618-F959546D16DC/doc</p><h2 id="dlt-viewer" tabindex="-1"><a class="header-anchor" href="#dlt-viewer" aria-hidden="true">#</a> DLT Viewer</h2><p>DLT Viewer 是GENIVI提供的带GUI界面的运行时DLT消息虚拟化 https://github.com/GENIVI/dlt-viewer[open-source software]</p><p>和其他软件一样，DLT viewer也由Conan打包，开发者可以很容易的获取。目前支持 Linux 和 Windows 系统。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>DLT Viewer needs a graphical server to run, which the current Docker image used for development purposes does not offer. You will be able to retrieve the package, but must step out of the container before using it. You will <em>also</em> need to install Qt libraries into your Linux host, e.g. for an Ubuntu-based distro: <code>sudo apt-get install qt5-default libqt5serialport5-dev</code></p></div><p>对于DLT以及DLT viewer使用方法，请参阅 https://github.com/GENIVI/dlt-viewer/blob/v2.20.0/doc/dlt_viewer_user_manual.pdf[ official user guide.]</p><p>DLT viewer的安装:</p><h3 id="installing-dlt-viewer-on-linux" tabindex="-1"><a class="header-anchor" href="#installing-dlt-viewer-on-linux" aria-hidden="true">#</a> Installing DLT Viewer on Linux</h3>',10),a=(0,t.Uk)("We assume you already "),r=(0,t.Uk)("Obtain"),o=(0,t.Uk)(" You should then use the following command "),s=(0,t._)("em",null,"after",-1),d=(0,t.Uk)(),u=(0,t.Uk)("Docker"),c=(0,t.uE)('<p>Then, assuming you would like to install in <code>my_dltviewer_install/</code>:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>conan install \\\n    -if my_dltviewer_install  \\\n    -pr config/valeria/native/profiles/linux_x86_64 \\\n    -pr config/valeria/native/profiles/gcc \\\n    -r eb_core-releases \\\n    eb_dltviewer/0.1.1@EBxelor/2020.12\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>All binaries (ELF executable, libraries, and DLT Viewer plugins) are laid flat into <code>my_dltviewer_install/</code>. To run it, you will need to update <code>LD_LIBRARY_PATH</code> (e.g. in your bashrc):</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd my_dltviewer_install/\nLD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH&quot;:$(pwd) ./dlt-viewer\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>You won&#39;t be able to install DLT Viewer to a standard path like <code>/usr/bin/</code> from the (unprivileged and chrooted) Docker container. Hence the local deployment instead. Feel free to manually copy binaries in your system afterwards, though.</p></div><h3 id="compiling-dlt-viewer-on-linux" tabindex="-1"><a class="header-anchor" href="#compiling-dlt-viewer-on-linux" aria-hidden="true">#</a> Compiling DLT Viewer on Linux</h3><p>The EB xelor Docker environment is already equipped for building DLT Viewer natively. Use Valeria with a simple build manifest for the &quot;native&quot; target, or use Conan directly.</p><h3 id="installing-dlt-viewer-on-windows" tabindex="-1"><a class="header-anchor" href="#installing-dlt-viewer-on-windows" aria-hidden="true">#</a> Installing DLT Viewer on Windows</h3>',8),p=(0,t.Uk)("We assume you already "),h=(0,t.Uk)("Obtain"),m=(0,t.Uk)(" We also assume you already intall on Windows. If not, please do this beforehand."),b=(0,t.uE)('<p>Then, assuming you would like to install in <code>C:\\DltViewer\\</code>:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>conan install \\\n    -if &quot;C:\\DltViewer&quot; \\\n    -pr config/valeria/native/profiles/windows_x86_64 \\\n    -pr config/valeria/native/profiles/visual_studio \\\n    -r eb_core-releases \\\n    eb_dltviewer/0.1.1@EBxelor/2020.12\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>You can then launch DLT Viewer directly by double-clicking on the executable, as usual.</p><h3 id="compiling-dlt-viewer-on-windows" tabindex="-1"><a class="header-anchor" href="#compiling-dlt-viewer-on-windows" aria-hidden="true">#</a> Compiling DLT Viewer on Windows</h3><p>At the moment, no Windows Docker environment is available for developers, so you will have to use the CI (&quot;native&quot; Windows build manifest for Valeria), or install the toolchains yourself.</p><p>When opting for the latter, here is what you need to do:</p><ul><li>Install Qt 5.12.4 (http://download.qt.io/official_releases/qt/5.12/5.12.4/qt-opensource-windows-x86-5.12.4.exe.mirrorlist[ link to official installer])</li><li>Install Visual Studio 2017 Community 15.9 (https://my.visualstudio.com/Downloads?q=Visual%20Studio%202017[ you can find it in this list]) Using the graphical installer wizard: <ul><li>Tick &quot;Desktop development with C <em>plus plus</em>&quot; on the panel you&#39;re first shown (toolsets selections)</li><li>This should be enough to get all necessary components</li></ul></li><li>Use the regular Conan workflow in a Powershell</li></ul><p>Before starting, you should set <code>QTDIR</code> and <code>MSVC_DIR</code> to the appropriate install paths. On Powershell, you can do this using <code>$env:QTDIR = &quot;path&quot;</code> and <code>$env:MSVC_DIR = &quot;path&quot;</code>. For the record, if you kept default you should have something like the following:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>C:\\Qt\\Qt5.12.4\\5.12.4\\msvc2017_64\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You may then call <code>conan source|install|build|package</code> as usual.</p><h3 id="sample-project-file" tabindex="-1"><a class="header-anchor" href="#sample-project-file" aria-hidden="true">#</a> Sample project file</h3><p>DLT Viewer stores both global and project-specific settings in <em>.dlp</em> files. Those describe the expected ECUs, how to connect to them, and possibly additional filters and plugins.</p><p>You can find a generic project file in <em>/tools/dlt_viewer/DLT_DefaultCfg.dlp</em> in the project sources. We suggest you start from it to build your own detailed configuration, to suit your needs. This project file offers:</p><ul><li>Default settings</li><li>Listing of ECUs <ul><li>&quot;Adaptive&quot; virtual machines (<em>alpha</em> and <em>beta</em>)</li><li>&quot;Classic&quot; firmware (<em>real-time reference app</em>)</li></ul></li><li>Basic filters <ul><li>System journal, Execution Manager activity and &quot;Get Software Version&quot; requests for Adaptive virtual machines</li><li>All warnings</li><li>All errors / fatal errors</li></ul></li></ul><h3 id="dlt-identifiers-for-eb-xelor" tabindex="-1"><a class="header-anchor" href="#dlt-identifiers-for-eb-xelor" aria-hidden="true">#</a> DLT identifiers for EB xelor</h3><p>The following are essential identifiers describing ECUs and a few applications. They form a small basis, and should be made more diverse in the future. Please update them if you happen to change or add some.</p><table><thead><tr><th>ECU ID</th><th>Description</th></tr></thead><tbody><tr><td>RTRA</td><td>Real-Time Reference Application</td></tr><tr><td>ALPH</td><td>Linux Adaptive AUTOSAR VM &quot;alpha&quot;</td></tr><tr><td>BETA</td><td>Linux Adaptive AUTOSAR VM &quot;alpha&quot;</td></tr></tbody></table>',17),f=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"ECU ID"),(0,t._)("th",null,"APP ID"),(0,t._)("th",null,"CTX ID"),(0,t._)("th",null,"Description")])],-1),g=(0,t._)("tr",null,[(0,t._)("td",null,"RTRA"),(0,t._)("td",null,"CYCL"),(0,t._)("td",null,"TIMG"),(0,t._)("td",null,"Cyclic counter transferred over the various networks, and also over DLT")],-1),w=(0,t._)("tr",null,[(0,t._)("td",null,"ALPH"),(0,t._)("td",null,"SH"),(0,t._)("td",null,[(0,t._)("em",null,"N/A")]),(0,t._)("td",null,'Demo application "SensorHandler"')],-1),v=(0,t._)("tr",null,[(0,t._)("td",null,"ALPH"),(0,t._)("td",null,"LOG"),(0,t._)("td",null,"JOUR"),(0,t._)("td",null,"EB Linux journal")],-1),_=(0,t._)("td",null,"ALPH",-1),x=(0,t._)("td",null,"Adaptive Core",-1),D=(0,t._)("td",null,[(0,t._)("em",null,"N/A")],-1),y=(0,t.Uk)("Please refer to the appropriate section in ADG user's manual, which can be found "),L={href:"https://gitext.elektrobitautomotive.com/EB-corbos-AdaptiveCore/ara-corbos-AdaptiveCore-deliveries",target:"_blank",rel:"noopener noreferrer"},T=(0,t.Uk)("here"),k=(0,t.Uk)(" at the moment"),A=(0,t._)("tr",null,[(0,t._)("td",null,"BETA"),(0,t._)("td",null,"SP"),(0,t._)("td",null,[(0,t._)("em",null,"N/A")]),(0,t._)("td",null,'Demo application "SensorPreprocessor"')],-1),C=(0,t._)("tr",null,[(0,t._)("td",null,"BETA"),(0,t._)("td",null,"LOG"),(0,t._)("td",null,"JOUR"),(0,t._)("td",null,"EB Linux journal")],-1),V=(0,t._)("td",null,"BETA",-1),q=(0,t._)("td",null,"Adaptive Core",-1),E=(0,t._)("td",null,[(0,t._)("em",null,"N/A")],-1),I=(0,t.Uk)("Please refer to the appropriate section in ADG user's manual, which can be found "),U={href:"https://gitext.elektrobitautomotive.com/EB-corbos-AdaptiveCore/ara-corbos-AdaptiveCore-deliveries",target:"_blank",rel:"noopener noreferrer"},R=(0,t.Uk)("here"),B=(0,t.Uk)(" at the moment"),P=(0,t.uE)('<h3 id="licensing" tabindex="-1"><a class="header-anchor" href="#licensing" aria-hidden="true">#</a> Licensing</h3><p>It <em>shall</em> be possible to:</p><ul><li>Use DLT Viewer <em>internally</em></li><li>Redistribute DLT Viewer for use <em>internally</em> and by <em>customers</em><ul><li>Customers can be provided the full binary package (DLT Viewer + Qt libraries)</li><li>Customers can be provided only DLT Viewer binary + guidance regarding Qt installation</li></ul></li></ul><p>For more details about licensing, please take a look at the <code>_/pkg/eb_dltviewer/LICENSE.adoc_</code> file stored along the package source.</p>',4),W={render:function(e,l){const i=(0,t.up)("RouterLink"),W=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[n,(0,t._)("p",null,[a,(0,t.Wm)(i,{to:"/zh/eb_xelor/user_guide/obtain.html"},{default:(0,t.w5)((()=>[r])),_:1}),o,s,d,(0,t.Wm)(i,{to:"/zh/eb_xelor/user_guide/docker.html"},{default:(0,t.w5)((()=>[u])),_:1})]),c,(0,t._)("p",null,[p,(0,t.Wm)(i,{to:"/zh/eb_xelor/user_guide/obtain.html"},{default:(0,t.w5)((()=>[h])),_:1}),m]),b,(0,t._)("table",null,[f,(0,t._)("tbody",null,[g,w,v,(0,t._)("tr",null,[_,x,D,(0,t._)("td",null,[y,(0,t._)("a",L,[T,(0,t.Wm)(W)]),k])]),A,C,(0,t._)("tr",null,[V,q,E,(0,t._)("td",null,[I,(0,t._)("a",U,[R,(0,t.Wm)(W)]),B])])])]),P],64)}}}}]);